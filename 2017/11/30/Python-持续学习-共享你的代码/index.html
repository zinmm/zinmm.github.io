<!DOCTYPE html><html lang="zh-cn"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Python 持续学习 - 共享你的代码 | ZIN</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Python 持续学习 - 共享你的代码</h1><a id="logo" href="/.">ZIN</a><p class="description">wild ones so 用尽脑细胞突突突</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Python 持续学习 - 共享你的代码</h1><div class="post-meta">Nov 30, 2017</div><div class="post-content"><p>可重用的代码固然不错，不过可共享的模块更棒。通过作为 Python 模块共享你的代码就可以向整个 Python 社区开放你的代码，共享总是一件好事，学习如何创建、安装、和发布你的可共享模块，然后把你的模块加载到 WEB 上的 Python 软件共享网站，这样所有人都能受益于你的工作。</p>
<a id="more"></a>
<h2 id="01-函数转换为模块"><a href="#01-函数转换为模块" class="headerlink" title="01. 函数转换为模块"></a>01. 函数转换为模块</h2><h4 id="模块就是一个包含-Python-代码的文本文件。对模块的主要需求就是要求文件名以-。py-结尾，这就是-Python-扩展名。要把你的函数转换为一个模块，需要把代码保存到一个适当命名的文件中。"><a href="#模块就是一个包含-Python-代码的文本文件。对模块的主要需求就是要求文件名以-。py-结尾，这就是-Python-扩展名。要把你的函数转换为一个模块，需要把代码保存到一个适当命名的文件中。" class="headerlink" title="模块就是一个包含 Python 代码的文本文件。对模块的主要需求就是要求文件名以 。py 结尾，这就是 Python 扩展名。要把你的函数转换为一个模块，需要把代码保存到一个适当命名的文件中。"></a>模块就是一个包含 Python 代码的文本文件。对模块的主要需求就是要求文件名以 。py 结尾，这就是 Python 扩展名。要把你的函数转换为一个模块，需要把代码保存到一个适当命名的文件中。</h4><h5 id="Python-标准库里已经加载了大量的模块，而且他们已经在你的计算机上了。如果标准库里没有你要的模块，第三方-Python-模块可以在-PypI-（Python-Package-Index，PyPI）-上查找需要的模块。"><a href="#Python-标准库里已经加载了大量的模块，而且他们已经在你的计算机上了。如果标准库里没有你要的模块，第三方-Python-模块可以在-PypI-（Python-Package-Index，PyPI）-上查找需要的模块。" class="headerlink" title="Python 标准库里已经加载了大量的模块，而且他们已经在你的计算机上了。如果标准库里没有你要的模块，第三方 Python 模块可以在 PypI （Python Package Index，PyPI） 上查找需要的模块。"></a>Python 标准库里已经加载了大量的模块，而且他们已经在你的计算机上了。如果标准库里没有你要的模块，第三方 Python 模块可以在 PypI （Python Package Index，PyPI） 上查找需要的模块。</h5><h2 id="02-注释代码"><a href="#02-注释代码" class="headerlink" title="02. 注释代码"></a>02. 注释代码</h2><p>代码注释的方法为三重引号如： “”” 今天天气很好，这是个天气模块 “””</p>
<h2 id="03-准备发布"><a href="#03-准备发布" class="headerlink" title="03. 准备发布"></a>03. 准备发布</h2><h4 id="为了共享新创建的这个模块，需要准备一个发布。在-Python-中，所谓-“发布”（distribution）是指一个文件集合，这些文件联合在一起允许你构建。打包和发布你的模块。"><a href="#为了共享新创建的这个模块，需要准备一个发布。在-Python-中，所谓-“发布”（distribution）是指一个文件集合，这些文件联合在一起允许你构建。打包和发布你的模块。" class="headerlink" title="为了共享新创建的这个模块，需要准备一个发布。在 Python 中，所谓 “发布”（distribution）是指一个文件集合，这些文件联合在一起允许你构建。打包和发布你的模块。"></a>为了共享新创建的这个模块，需要准备一个发布。在 Python 中，所谓 “发布”（distribution）是指一个文件集合，这些文件联合在一起允许你构建。打包和发布你的模块。</h4><h4 id="一旦发布存在，就可以把模块安装到你的-Python-本地副本上，还可以把模块上传到-PyPI-与全世界共享。"><a href="#一旦发布存在，就可以把模块安装到你的-Python-本地副本上，还可以把模块上传到-PyPI-与全世界共享。" class="headerlink" title="一旦发布存在，就可以把模块安装到你的 Python 本地副本上，还可以把模块上传到 PyPI 与全世界共享。"></a>一旦发布存在，就可以把模块安装到你的 Python 本地副本上，还可以把模块上传到 PyPI 与全世界共享。</h4><h5 id="01-首先创建一个文件夹"><a href="#01-首先创建一个文件夹" class="headerlink" title="01. 首先创建一个文件夹"></a>01. 首先创建一个文件夹</h5><ul>
<li>创建了文件夹之后，将 nester.py 模块文件复制到这个文件夹中。为简单起见，下面把这个文件夹命名为 nester。</li>
</ul>
<h5 id="02-在新文件夹中创建一个名为-“setup-py”-的文件。"><a href="#02-在新文件夹中创建一个名为-“setup-py”-的文件。" class="headerlink" title="02. 在新文件夹中创建一个名为 “setup.py” 的文件。"></a>02. 在新文件夹中创建一个名为 “setup.py” 的文件。</h5><ul>
<li><p>这个文件包含有关发布的源数据。编辑这个文件，增加下面代码</p>
</li>
<li><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">form distutils.core <span class="keyword">import</span> setup</span><br><span class="line"></span><br><span class="line">setup (</span><br><span class="line">    name			= <span class="string">'nester'</span>,</span><br><span class="line">    version	      	 = <span class="string">'1.0.0'</span>,</span><br><span class="line">    py_modules 	  	 = [<span class="string">'nester'</span>],</span><br><span class="line">    author	      	 = <span class="string">'zinmm'</span>,</span><br><span class="line">    author_email	 = <span class="string">'zinmm@msn.cn'</span></span><br><span class="line">    url				= <span class="string">'http://www.zinmm-dev.com'</span></span><br><span class="line">    description 	 = <span class="string">'wild ones so 用尽脑细胞突突突'</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="04-构建发布"><a href="#04-构建发布" class="headerlink" title="04. 构建发布"></a>04. 构建发布</h2><p>现在已经有了一个文件夹，其中包含两个文件：模块代码放在 nester.py 中，模块的有关源数据放在 setup.py 中。 现在构建你的发布。</p>
<h5 id="03-构建一个发布文件。"><a href="#03-构建一个发布文件。" class="headerlink" title="03. 构建一个发布文件。"></a>03. 构建一个发布文件。</h5><ul>
<li>发布工具包含有一个发布所需的所有功能。在 nester 文件夹中开开一个终端窗口键入一行命令： python3 <code>setup.py sdist</code>。</li>
</ul>
<h5 id="04-将发布安装到你的-Python-本地副本中。"><a href="#04-将发布安装到你的-Python-本地副本中。" class="headerlink" title="04. 将发布安装到你的 Python 本地副本中。"></a>04. 将发布安装到你的 Python 本地副本中。</h5><ul>
<li>仍然在终端窗口中，键入以下命令：<code>sudo python3 setup.py install</code>。 </li>
</ul>
<h4 id="发布已经准备就绪。"><a href="#发布已经准备就绪。" class="headerlink" title="发布已经准备就绪。"></a>发布已经准备就绪。</h4><h2 id="05-发布速览"><a href="#05-发布速览" class="headerlink" title="05. 发布速览"></a>05. 发布速览</h2><h5 id="利用-Python-的发布工具，你的模块已经转化成一个发布，并且安装在你的-Python-本地副本上。"><a href="#利用-Python-的发布工具，你的模块已经转化成一个发布，并且安装在你的-Python-本地副本上。" class="headerlink" title="利用 Python 的发布工具，你的模块已经转化成一个发布，并且安装在你的 Python 本地副本上。"></a>利用 Python 的发布工具，你的模块已经转化成一个发布，并且安装在你的 Python 本地副本上。</h5><h5 id="开始时只有一个函数，这个函数输入到一个名为-nester-py-的文件中，这就创建了一个模块。然后创建一个名为-nester-的文件夹存放这个模块。通过在这个文件夹中增加一个名为-setup-py-的文件，从而能够构建和安装你的发布，这会生成一组额外的文件，并在-nester-文件夹中出现两个新的文件夹。这些文件和文件夹都是由发布工具为你创建的"><a href="#开始时只有一个函数，这个函数输入到一个名为-nester-py-的文件中，这就创建了一个模块。然后创建一个名为-nester-的文件夹存放这个模块。通过在这个文件夹中增加一个名为-setup-py-的文件，从而能够构建和安装你的发布，这会生成一组额外的文件，并在-nester-文件夹中出现两个新的文件夹。这些文件和文件夹都是由发布工具为你创建的" class="headerlink" title="开始时只有一个函数，这个函数输入到一个名为 nester.py 的文件中，这就创建了一个模块。然后创建一个名为 nester 的文件夹存放这个模块。通过在这个文件夹中增加一个名为 setup.py 的文件，从而能够构建和安装你的发布，这会生成一组额外的文件，并在 nester 文件夹中出现两个新的文件夹。这些文件和文件夹都是由发布工具为你创建的"></a>开始时只有一个函数，这个函数输入到一个名为 nester.py 的文件中，这就创建了一个模块。然后创建一个名为 nester 的文件夹存放这个模块。通过在这个文件夹中增加一个名为 setup.py 的文件，从而能够构建和安装你的发布，这会生成一组额外的文件，并在 nester 文件夹中出现两个新的文件夹。这些文件和文件夹都是由发布工具为你创建的</h5><p><img src="/Users/zhujinming/Desktop/图片.jpg" alt="图片"></p>
<h2 id="06-导入模块并使用"><a href="#06-导入模块并使用" class="headerlink" title="06. 导入模块并使用"></a>06. 导入模块并使用</h2><h4 id="既然已经构建了模块，并作为发布打包和安装，下面来看使用时还需要什么。要使用一个模块，只需把它导入到你的程序中，或者导入到-IDLE-shell"><a href="#既然已经构建了模块，并作为发布打包和安装，下面来看使用时还需要什么。要使用一个模块，只需把它导入到你的程序中，或者导入到-IDLE-shell" class="headerlink" title="既然已经构建了模块，并作为发布打包和安装，下面来看使用时还需要什么。要使用一个模块，只需把它导入到你的程序中，或者导入到 IDLE shell:"></a>既然已经构建了模块，并作为发布打包和安装，下面来看使用时还需要什么。要使用一个模块，只需把它导入到你的程序中，或者导入到 IDLE shell:</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">""" 使用 python 关键字 import 导入模块，不需要包含 .py 扩展名 """</span></span><br><span class="line"><span class="keyword">import</span> nester</span><br></pre></td></tr></table></figure>
<h2 id="07-Python-的模块实现命名空间"><a href="#07-Python-的模块实现命名空间" class="headerlink" title="07. Python 的模块实现命名空间"></a>07. Python 的模块实现命名空间</h2><h4 id="Python-中的所有代码都与一个命名空间关联。"><a href="#Python-中的所有代码都与一个命名空间关联。" class="headerlink" title="Python 中的所有代码都与一个命名空间关联。"></a>Python 中的所有代码都与一个命名空间关联。</h4><h4 id="主-Python-程序中（以及-IDLE-shell-中）的代码与一个名为-main-的命名空间关联。将代码放在其单独的模块中时，Python-会自动创建一个与模块同名的命名空间。所以，你的模块中的代码会与一个名为-nester-的命名空间关联。"><a href="#主-Python-程序中（以及-IDLE-shell-中）的代码与一个名为-main-的命名空间关联。将代码放在其单独的模块中时，Python-会自动创建一个与模块同名的命名空间。所以，你的模块中的代码会与一个名为-nester-的命名空间关联。" class="headerlink" title="主 Python 程序中（以及 IDLE shell 中）的代码与一个名为 main 的命名空间关联。将代码放在其单独的模块中时，Python 会自动创建一个与模块同名的命名空间。所以，你的模块中的代码会与一个名为 nester 的命名空间关联。"></a>主 Python 程序中（以及 IDLE shell 中）的代码与一个名为 main 的命名空间关联。将代码放在其单独的模块中时，Python 会自动创建一个与模块同名的命名空间。所以，你的模块中的代码会与一个名为 nester 的命名空间关联。</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> nester</span><br><span class="line"></span><br><span class="line">nester.print_lol(cast) // print_lol 便是 nester.py 里的函数名，详见《初识 Python》</span><br></pre></td></tr></table></figure>
<h5 id="PS-如果使用-from-nester-import-print-lol，会把指定的函数（这里便是-print-lol）增加到当前命名空间中，这样一来，就不必再使用命名空间限定。值得注意的是当前命名空间如果已经定义了一个名为-print-lol-的函数，这个特定的-import-语句就会用导入的函数覆盖你自己定义的函数。"><a href="#PS-如果使用-from-nester-import-print-lol，会把指定的函数（这里便是-print-lol）增加到当前命名空间中，这样一来，就不必再使用命名空间限定。值得注意的是当前命名空间如果已经定义了一个名为-print-lol-的函数，这个特定的-import-语句就会用导入的函数覆盖你自己定义的函数。" class="headerlink" title="PS: 如果使用 from nester import print_lol，会把指定的函数（这里便是 print_lol）增加到当前命名空间中，这样一来，就不必再使用命名空间限定。值得注意的是当前命名空间如果已经定义了一个名为 print_lol 的函数，这个特定的 import 语句就会用导入的函数覆盖你自己定义的函数。"></a>PS: 如果使用 <code>from nester import print_lol</code>，会把指定的函数（这里便是 print_lol）增加到当前命名空间中，这样一来，就不必再使用命名空间限定。值得注意的是当前命名空间如果已经定义了一个名为 print_lol 的函数，这个特定的 import 语句就会用导入的函数覆盖你自己定义的函数。</h5></div><iframe src="/donate/?AliPayQR=/img/AliPayQR.png&amp;WeChatQR=/img/WeChatQR.png&amp;GitHub=https://github.com/zinmm&amp;BTCQR=null&amp;BTCKEY=null&amp;PayPal=null" style="overflow-x:hidden; overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe><div class="tags"><a href="/tags/Python/">Python</a></div><div class="post-nav"><a class="pre" href="/2018/02/26/笔记/">笔记</a><a class="next" href="/2017/11/28/Python-持续学习-初识 Python/">Python 持续学习 - 初识 Python</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/Other/" style="font-size: 15px;">Other</a> <a href="/tags/Mac/" style="font-size: 15px;">Mac</a> <a href="/tags/Error/" style="font-size: 15px;">Error</a> <a href="/tags/Optimize/" style="font-size: 15px;">Optimize</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/System/" style="font-size: 15px;">System</a> <a href="/tags/Ubuntu/" style="font-size: 15px;">Ubuntu</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/Markdown/" style="font-size: 15px;">Markdown</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/09/29/活用布局/">活用布局</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/29/机器与人类视觉能力的差别/">机器与人类视觉能力的差别</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/27/常用命令记录/">MAC 常用命令记录</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/30/隐私政策/">隐私政策</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/26/笔记/">笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/30/Python-持续学习-共享你的代码/">Python 持续学习 - 共享你的代码</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/28/Python-持续学习-初识 Python/">Python 持续学习 - 初识 Python</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/01/Android-快速启动/">Android 快速启动</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/26/Docker-入门/">Docker 入门</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/07/Android-动态加载之代理-Activity-模式/">Android 动态加载之代理 Activity 模式</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2024 <a href="/." rel="nofollow">ZIN.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" color="0,0,0" opacity="0.5" zindex="-2" count="10" src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>